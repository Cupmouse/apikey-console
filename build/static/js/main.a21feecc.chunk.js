(this.webpackJsonpadmintool=this.webpackJsonpadmintool||[]).push([[0],{275:function(e,t,a){e.exports=a(455)},455:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(66),o=a.n(l),c=(a(280),a(20)),i=a(21),s=a(23),u=a(22),m=a(24),p=a(471),d=a(483),g=a(34),h=a(59),E=a(42),y=a.n(E),f=a(236),b=a(81),k=a(478),v=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,{fluid:!0,vertical:!0,tabular:!0},r.a.createElement(k.a.Item,{as:g.c,to:"/dashboard",name:"dashboard",activeClassName:"active"}),r.a.createElement(k.a.Item,{as:g.c,to:"/apikeys",name:"apikey",content:"API-Key",activeClassName:"active"}))}}]),t}(r.a.Component),C=a(241),O=a(16),w=a.n(O),S=a(27),j=a(479),I=a(480),P=a(477),A=a(472),x="https://accountapi.exchangedataset.cc",K="you don't have a permission to access this resource",T="live"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PAYMENT_ENV?"pk_live_Z1dwHJmuM9tU7iHih8iNkIsX00eJCHz6FL":"pk_test_gSZxwrZFpWcMxhemNSyAx53t00xr5iuhNT",D=[{end:1,price:10},{end:30,price:1},{end:200,price:.4},{end:1e3,price:.35},{end:Number.POSITIVE_INFINITY,price:.3}],L=function(e,t){return window.fetch(x+e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"error",referrer:"no-referrer",body:JSON.stringify(t)})},N=function(e){return e.json().then((function(e){if("error"in e)throw new Error(e.error);return e}))},H=function(e,t){return L("/login",{email:e,password:t}).then((function(e){return N(e)}))},B=function(e){return L("/apikey/list",{customerKey:e.toString()}).then((function(e){return N(e)}))},q=function(e){return L("/apikey/create",{customerKey:e.toString()}).then((function(e){return N(e)}))},_=function(e){return L("/apikey/remove",{apikey:e}).then((function(e){return N(e)}))},M=function(e,t){return L("/apikey/enabled",{apikey:e,enabled:t.toString()}).then((function(e){return N(e)}))},R=function(e){return L("/ticket/list",{apikey:e}).then((function(e){return N(e)}))},z=function(e,t){return L("/ticket/prepare",{apikey:e,quota:t}).then((function(e){return N(e)}))},W=function(e,t){return L("/ticket/remove",{apikey:e,key:t.toString()}).then((function(e){return N(e)}))},Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:null,redirect:!1,loading:!1},a.onSubmit=Object(S.a)(w.a.mark((function e(){var t,n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.email,r=t.password,a.setState({loading:!0}),e.prev=2,e.next=5,H(n,r);case 5:l=e.sent,localStorage.setItem("customerKey",l.customerKey),a.setState({redirect:!0,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({error:e.t0.message,loading:!1});case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),a.handleChange=function(e,t){a.setState(Object(C.a)({},t.name,t.value))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.loading,l=e.redirect,o=e.error;return r.a.createElement(j.a,null,r.a.createElement(I.a,{size:"huge",textAlign:"center",content:"API-Key Console"}),null!==o?r.a.createElement(P.a,{negative:!0,content:o}):"",r.a.createElement(A.a,null,r.a.createElement(A.a.Input,{name:"email",label:"Email",type:"email",value:t,onChange:this.handleChange}),r.a.createElement(A.a.Input,{name:"password",label:"Password",type:"password",value:a,onChange:this.handleChange}),r.a.createElement(A.a.Button,{primary:!0,icon:"user",content:"Login",disabled:n,loading:n,onClick:this.onSubmit})),l?r.a.createElement(h.a,{to:"/dashboard"}):"")}}]),t}(n.Component),F=a(476),U=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a.Group,null,r.a.createElement(F.a,null,r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Header,null,"Quota Left"))),r.a.createElement(F.a,null,r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Header,null,"API-Keys"))))}}]),t}(r.a.Component),J=a(482),G=a(475),Q=a(456),Z=a(481),V=a(469),$=a(465),X=a(473),ee=a(71);function te(e){var t=e.onCancel,a=e.onOK,n=e.waiting,l=e.error,o=e.children,c=e.open;return r.a.createElement(X.a,{size:"small",open:c},r.a.createElement(X.a.Header,null,r.a.createElement(ee.a,{name:"warning circle"}),"Attention"),r.a.createElement(X.a.Content,null,o,null!==l?r.a.createElement(P.a,{negative:!0},l):""),r.a.createElement(X.a.Actions,null,r.a.createElement(Q.a,{positive:!0,disabled:n,content:"Cancel",onClick:t}),r.a.createElement(Q.a,{negative:!0,disabled:n,loading:n,icon:"close",labelPosition:"right",content:"OK",onClick:a})))}te.defaultProps={open:!1,waiting:!1,error:null,onCancel:function(){},onOK:function(){}};var ae=te,ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={enabled:a.props.enabled,setting:!1,modalOpen:!1,error:null},a.setAPIKeyEnabled=Object(S.a)(w.a.mark((function e(){var t,n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apikey,r=t.onChange,l=a.state.enabled,a.setState({setting:!0}),e.prev=3,e.next=6,M(n,!l);case 6:a.setState({enabled:!l,modalOpen:!1,setting:!1}),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({error:e.t0.toString(),setting:!1});case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.apikey,a=this.state,n=a.enabled,l=a.setting,o=a.modalOpen,c=a.error;return r.a.createElement("div",null,r.a.createElement(ae,{open:o,waiting:l,error:c,onCancel:function(){return e.setState({modalOpen:!1})},onOK:this.setAPIKeyEnabled},r.a.createElement("p",null,"You are tring to"," ",r.a.createElement("span",{style:{fontWeight:"bold"}},n?"disable":"enable")," ","API-key shown below:"),r.a.createElement("p",null,t),n?r.a.createElement("p",null,"Disabling API-key will IMMEDIATELY make this API-key unusable for everyone."):"",r.a.createElement("p",null,"Do you want to proceed?")),r.a.createElement($.a,{toggle:!0,checked:n,disabled:l,onChange:function(){e.setState({modalOpen:!0})}}))}}]),t}(n.Component);ne.defaultProps={onChange:function(){}};var re=ne,le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={deleting:!1,modalOpen:!1,error:null},a.deleteAPIKey=Object(S.a)(w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apikey,r=t.onDeletionComplete,a.setState({deleting:!0}),e.prev=2,e.next=5,_(n);case 5:a.setState({modalOpen:!1,deleting:!1}),r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setState({error:e.t0.toString(),deleting:!1});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.apikey,a=this.state,n=a.deleting,l=a.modalOpen,o=a.error;return r.a.createElement("div",null,r.a.createElement(Q.a,{basic:!0,negative:!0,icon:"close",content:"DELETE",onClick:function(){return e.setState({modalOpen:!0})}}),r.a.createElement(ae,{open:l,waiting:n,error:o,onCancel:function(){return e.setState({modalOpen:!1})},onOK:this.deleteAPIKey},r.a.createElement("p",null,"You are tring to delete a API-key shown below:"),r.a.createElement("p",null,t),r.a.createElement("p",null,"Are you sure you want to delete this API-key?"),r.a.createElement("p",null,"ALL tickets associated with this API-key will not be able to access afterwards."),r.a.createElement("p",null,"No refunds."),r.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},"This is permanent and cannot be undone.")))}}]),t}(n.Component);le.defaultProps={onDeletionComplete:function(){}};var oe=le;function ce(e){var t=localStorage.getItem("customerKey"),a=e.reportNotLoggedIn;return null===t||a?r.a.createElement(h.a,{to:"/"}):""}ce.defaultProps={reportNotLoggedIn:!1};var ie=ce,se=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],ue=function(e){for(var t=0,a=e;t<se.length&&a.gte(1024);t+=1)a=a.dividedToIntegerBy(1024);return"".concat(a," ").concat(se[t])},me=function(){var e=localStorage.getItem("customerKey");return null!==e?y()(e):null},pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={apikeyLoading:!0,apikeyCreating:!1,messageType:null,message:null,apikeys:[],sureNotLoggedIn:!1},a.loadAPIKeys=Object(S.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=me())){e.next=3;break}return e.abrupt("return");case 3:return a.setState({apikeyLoading:!0}),e.prev=4,e.next=7,B(t);case 7:n=e.sent,a.setState({apikeys:n,apikeyLoading:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.message===K?a.setState({sureNotLoggedIn:!0}):a.setState({messageType:"error",message:e.t0.toString(),apikeyLoading:!1});case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),a.componentDidMount=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.loadAPIKeys();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),a.createNewAPIKey=Object(S.a)(w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=me())){e.next=3;break}return e.abrupt("return");case 3:return a.setState({apikeyCreating:!0}),e.prev=4,e.next=7,q(t);case 7:n=e.sent,r=n.key,a.setState({messageType:"success",message:"New API-Key created: ".concat(r),apikeyCreating:!1}),a.loadAPIKeys(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),e.t0.message===K?a.setState({sureNotLoggedIn:!0,apikeyCreating:!1}):a.setState({messageType:"error",message:e.t0.toString(),apikeyCreating:!1});case 16:case"end":return e.stop()}}),e,null,[[4,13]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.apikeyLoading,n=t.apikeyCreating,l=t.messageType,o=t.message,c=t.apikeys,i=t.sureNotLoggedIn;return r.a.createElement("div",null,r.a.createElement(J.a,{size:"large"},r.a.createElement(J.a.Section,{as:g.b,to:"/dashboard",link:!0,content:"Dashboard"}),r.a.createElement(J.a.Divider,{icon:"right angle"}),r.a.createElement(J.a.Section,{active:!0,content:"API-Keys"})),r.a.createElement(I.a,{size:"medium",content:"List of Your API-Keys"}),null!==o?r.a.createElement(P.a,{positive:"success"===l,negative:"error"===l,content:o}):"",r.a.createElement(G.a,null,r.a.createElement(G.a.Header,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,{content:"API-Key"}),r.a.createElement(G.a.HeaderCell,{content:"Enabled"}),r.a.createElement(G.a.HeaderCell,{content:"Delete"}))),r.a.createElement(G.a.Body,null,c.map((function(t){return r.a.createElement(G.a.Row,{key:t.apikey},r.a.createElement(G.a.Cell,null,r.a.createElement(g.b,{to:"/apikey/".concat(t.apikey)},t.apikey)),r.a.createElement(G.a.Cell,{collapsing:!0,positive:t.enabled},r.a.createElement(re,{apikey:t.apikey,enabled:t.enabled})),r.a.createElement(G.a.Cell,{textAlign:"center"},r.a.createElement(oe,{apikey:t.apikey,onDeletionComplete:e.loadAPIKeys})))}))),r.a.createElement(G.a.Footer,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,null,r.a.createElement(Q.a,{primary:!0,icon:"add",content:"Create new API-key (Up to 10 api-keys)",loading:n,disabled:c.length>10,onClick:this.createNewAPIKey})),r.a.createElement(G.a.HeaderCell,null),r.a.createElement(G.a.HeaderCell,null)))),r.a.createElement(Z.a,{active:a},r.a.createElement(V.a,null)),r.a.createElement(ie,{reportNotLoggedIn:i}))}}]),t}(n.Component);function de(){return r.a.createElement(I.a,{as:"h1",content:"404 Not Found"})}var ge=a(474),he=a(470),Ee=a(466);function ye(e){var t=e.title,a=e.onCancel,n=e.onOK,l=e.okButtonContent,o=e.cancelButtonContent,c=e.buttonLoading,i=e.error,s=e.children,u=e.open;return r.a.createElement(X.a,{size:"small",open:u},r.a.createElement(X.a.Header,{content:t}),r.a.createElement(X.a.Content,null,s,null!==i?r.a.createElement(P.a,{negative:!0},i):""),r.a.createElement(X.a.Actions,null,r.a.createElement(Q.a,{positive:!0,disabled:c,content:l,loading:c,onClick:n}),r.a.createElement(Q.a,{disabled:c,content:o,onClick:a})))}ye.defaultProps={open:!1,buttonLoading:!1,error:null,okButtonContent:"OK",cancelButtonContent:"Cancel",onCancel:function(){},onOK:function(){}};var fe=ye,be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={preparing:!1,error:null},a.createTicket=Object(S.a)(w.a.mark((function e(){var t,n,r,l,o,c,i,s,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apikey,r=t.stripe,l=t.elements,o=t.quota,c=t.onPaymentComplete,a.setState({preparing:!0}),e.prev=2,e.next=5,z(n,o);case 5:return i=e.sent,s=i.clientSecret,e.next=9,r.confirmCardPayment(s,{payment_method:{card:l.getElement(b.CardElement)}});case 9:if(!(u=e.sent).error){e.next=14;break}throw new Error("error during payment processing: ".concat(u.error.message));case 14:"succeeded"===u.paymentIntent.status&&c(),a.setState({error:null,preparing:!1});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),a.setState({error:e.t0.message,preparing:!1});case 21:case"end":return e.stop()}}),e,null,[[2,18]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stripe,a=e.elements;if(null===t)return"";var n=this.props,l=n.modalOpened,o=n.onCancel,c=n.quota,i=this.state,s=i.preparing,u=i.error;return r.a.createElement(fe,{title:"Purchasing A New Ticket",error:u,open:l,okButtonContent:"Confirm Payment",onOK:this.createTicket,onCancel:o,buttonLoading:s},r.a.createElement("p",null,"You are purchasing a new ticket of ",c.toString(),"GB."),r.a.createElement("p",null,"We are charging you:"),r.a.createElement("p",null,"$",function(e){for(var t=Math.min(e,D[0].end)*D[0].price,a=Math.max(e-D[0].end,0),n=1;n<D.length;n+=1){var r=D[n].end-D[n-1].end;t+=Math.min(a,r)*D[n].price,a=Math.max(a-r,0)}return t}(c).toString()),r.a.createElement("p",null,"Ticket will expire in 30 days."),r.a.createElement("p",null,"To continue, enter your credit card information below."),r.a.createElement(b.CardElement,{stripe:t,elements:a}))}}]),t}(r.a.Component);be.defaultProps={stripe:null,elements:null};var ke=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={creating:!1,quota:"",messageType:null,message:null,paymentError:null,modalOpened:!1},a.handleChange=function(e,t){var n=t.value;a.setState({quota:n})},a.handleClick=function(){var e=a.state.quota;/^[1-9][0-9]*$/.test(e)?a.setState({message:null,modalOpened:!0}):a.setState({messageType:"error",message:"Please enter quota in integer"})},a.handlePaymentComplete=function(){a.setState({buttonLoading:!1,modalOpened:!1,messageType:"success",message:"Payment Successful! Tickets will not be added until we can successfully capture the payment."})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.apikey,a=this.state,n=a.messageType,l=a.message,o=a.modalOpened,c=a.quota,i=y()(c);return r.a.createElement("div",null,null!==l?r.a.createElement(P.a,{negative:"error"===n,positive:"success"===n},l):"",r.a.createElement(Ee.a,{name:"quota",label:"GB",labelPosition:"right",placeholder:"Enter desired quota",onChange:this.handleChange}),r.a.createElement(Q.a,{icon:!0,primary:!0,disabled:o,content:"Create A New Ticket",onClick:this.handleClick}),r.a.createElement(b.ElementsConsumer,null,(function(a){var n=a.stripe,l=a.elements;return r.a.createElement(be,{apikey:t,stripe:n,elements:l,modalOpened:o,onCancel:function(){return e.setState({modalOpened:!1})},quota:i,onPaymentComplete:e.handlePaymentComplete})})))}}]),t}(n.Component);ke.defaultProps={onChange:function(){}};var ve=ke,Ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={deleting:!1,modalOpen:!1,error:null},a.deleteTicket=Object(S.a)(w.a.mark((function e(){var t,n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.apikey,r=t.ticketKey,l=t.onDeletionComplete,a.setState({deleting:!0}),e.prev=2,e.next=5,W(n,r);case 5:a.setState({modalOpen:!1,deleting:!1}),l(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setState({error:e.t0.toString(),deleting:!1});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.apikey,n=t.ticketKey,l=t.startDate,o=t.endDate,c=this.state,i=c.deleting,s=c.modalOpen,u=c.error;return r.a.createElement("div",null,r.a.createElement(Q.a,{basic:!0,negative:!0,icon:"close",content:"DELETE",onClick:function(){return e.setState({modalOpen:!0})}}),r.a.createElement(ae,{open:s,waiting:i,error:u,onCancel:function(){return e.setState({modalOpen:!1})},onOK:this.deleteTicket},r.a.createElement("p",null,"You are tring to delete the ticket:"),r.a.createElement("p",null,"Ticket-key:"," ",n.toString()),r.a.createElement("p",null,"API-key:"," ",a),r.a.createElement("p",null,l.toString()," ","to"," ",o.toString()),r.a.createElement("p",null,"Are you sure you want to delete this ticket?"),r.a.createElement("p",null,"Remaining quota on this ticket will be discarded and cannot be refunded."),r.a.createElement("p",null,"This action cannot be undone.")))}}]),t}(n.Component);Ce.defaultProps={onDeletionComplete:function(){}};var Oe=Ce,we=function(e){return r.a.createElement(ge.a,{content:"".concat(e," bytes"),trigger:r.a.createElement("span",{style:{borderBottom:"1px dotted"}},ue(e))})},Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!0,quotas:[],error:null,listReload:0,sureNotLoggedIn:!1},a.componentDidUpdate=function(){var e=Object(S.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.reload,t.reload!==n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.loadQuotas();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getTable=function(){var e=a.props.match.params.apikey;return a.state.quotas.map((function(t){var n=y()(t.ticketKey),l=y()(t.quota),o=y()(t.used),c=l.minus(o),i=c.times(1e3).dividedToIntegerBy(l).toNumber()/10;return[r.a.createElement(G.a.Row,{key:"".concat(t.startDate,"-").concat(t.endDate,"-0")},r.a.createElement(G.a.Cell,{rowSpan:2},t.startDate,r.a.createElement(ee.a,{name:"arrow circle right"}),t.endDate),r.a.createElement(G.a.Cell,null,we(l)),r.a.createElement(G.a.Cell,null,we(o)),r.a.createElement(G.a.Cell,null,we(c)),r.a.createElement(G.a.Cell,{rowSpan:2},r.a.createElement(Oe,{apikey:e,ticketKey:n,startDate:t.startDate,endDate:t.endDate,onDeletionComplete:a.loadQuotas}))),r.a.createElement(G.a.Row,{key:"".concat(t.startDate,"-").concat(t.endDate,"--1")},r.a.createElement(G.a.Cell,{colSpan:3},r.a.createElement(he.a,{percent:i,error:i<=5,warning:i>5&&i<=30,success:i>30,progress:"percent"})))]})).flat(1)},a.loadTickets=Object(S.a)(w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match,n=t.params.apikey,a.setState({loading:!0}),e.prev=3,e.next=6,R(n);case 6:r=e.sent,a.setState({quotas:r,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.message===K?a.setState({sureNotLoggedIn:!0}):a.setState({error:e.t0.toString(),loading:!1});case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.componentDidMount=Object(S.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.loadTickets();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.apikey,a=this.state,n=a.loading,l=a.error,o=a.sureNotLoggedIn;return r.a.createElement("div",null,r.a.createElement(J.a,{size:"large"},r.a.createElement(J.a.Section,{as:g.b,to:"/dashboard",link:!0,content:"Dashboard"}),r.a.createElement(J.a.Divider,{icon:"right angle"}),r.a.createElement(J.a.Section,{as:g.b,to:"/apikeys",link:!0,content:"API-Keys"}),r.a.createElement(J.a.Divider,{icon:"right angle"}),r.a.createElement(J.a.Section,{active:!0,content:"Tickets"})),r.a.createElement(I.a,{size:"medium",content:"Tickets for API-key ".concat(t)}),r.a.createElement(I.a,{size:"medium"},"Create a new ticket"),null!==l?r.a.createElement(P.a,{negative:!0},r.a.createElement(P.a.Header,null,"Error occurred"),l):"",r.a.createElement(G.a,null,r.a.createElement(G.a.Header,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,{rowSpan:2},"Period"),r.a.createElement(G.a.HeaderCell,{colSpan:3},"Quota"),r.a.createElement(G.a.HeaderCell,{rowSpan:2,collapsing:!0},"Delete")),r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,null,"Limit"),r.a.createElement(G.a.HeaderCell,null,"Used"),r.a.createElement(G.a.HeaderCell,null,"Left"))),r.a.createElement(G.a.Body,null,this.getTable()),r.a.createElement(G.a.Footer,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,null,r.a.createElement(ve,{apikey:t,onChange:function(){e.setState({listReload:Math.random()})}})),r.a.createElement(G.a.HeaderCell,null),r.a.createElement(G.a.HeaderCell,null),r.a.createElement(G.a.HeaderCell,null),r.a.createElement(G.a.HeaderCell,null)))),r.a.createElement(Z.a,{active:n},r.a.createElement(V.a,null)),r.a.createElement(ie,{reportNotLoggedIn:o}))}}]),t}(n.Component),je=Object(f.a)(T),Ie=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("customerKey"),t=y()(e);return r.a.createElement(g.a,null,r.a.createElement(b.Elements,{stripe:je},r.a.createElement(p.a,{style:{paddingTop:"1em"}},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:Y}),r.a.createElement(h.b,{path:"*"},r.a.createElement(d.a,{columns:2},r.a.createElement(d.a.Column,{width:4},r.a.createElement(v,null)),r.a.createElement(d.a.Column,{width:12},r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/dashboard"},r.a.createElement(U,{customerKey:t})),r.a.createElement(h.b,{path:"/apikeys"},r.a.createElement(pe,{customerKey:t})),r.a.createElement(h.b,{path:"/apikey/:apikey",component:Se}),r.a.createElement(h.b,{path:"/settings"},r.a.createElement(pe,{customerKey:t})),r.a.createElement(h.b,{component:de})))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[275,1,2]]]);
//# sourceMappingURL=main.a21feecc.chunk.js.map